<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registrar Pedido Aduanal</title>
    <link rel="stylesheet" href="css/ServiceOrder.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <img src="img/CamionLogo.png" alt="" />
            <span class="logo-text">TrackLine</span>
        </div>
        <div class="menu-toggle" id="menuToggle">
            <div class="menu-line"></div>
            <div class="menu-line"></div>
            <div class="menu-line"></div>
        </div>
    </header>

    <!-- Overlay del menú -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Menú lateral -->
    <nav class="side-menu" id="sideMenu">
        <div class="menu-header">
            <h3>Menú Principal</h3>
        </div>
        <div class="menu">
            <a href="Contact.html" class="menu-item"><i class="fa-solid fa-phone"></i></i>Contactanos</a>
            <a href="Account.html" class="menu-item"><i class="fa-solid fa-user"></i>Mi cuenta</a>
            <a href="ProductTracking.html" class="menu-item"><i class="fa-solid fa-truck-fast"></i>Seguimiento</a>
            <a href="AddNit.html" class="menu-item"><i class="fa-solid fa-inbox"></i>Pedidos Aduanales</a>
            <a href="ServiceOrder.html" class="menu-item"><i class="fa-solid fa-calendar-days"></i>Ordenes de
                Servicio</a>
        </div>
        <div class="close">
            <button id="btncerrarSesion" class="cerrarSesion"><i class="fa-solid fa-xmark"></i></i>Cerrar
                Sesion</button>
        </div>
    </nav>


    <main class="container">
        <h1>Registrar nuevo pedido Aduanal</h1>
        <!-- Contenedor para mostrar mensajes del sistema -->
        <div id="message-container" class="message-box hidden"></div>

        <section class="accordion-container">
            <!-- Formulario para crear y editar pedidos -->
            <form id="pedido-form">
                <!-- Campo oculto para el ID en modo de edición -->
                <input type="hidden" id="pedido-id" value="">

                <!-- Encabezado -->
                <div class="accordion" data-step="1">
                    <div class="accordion-header">Encabezado</div>
                    <div class="accordion-body" id="formEncabezado">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="fecha">Fecha</label>
                                <input type="date" id="fecha" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="encargado1">Encargado</label>
                                <input type="text" id="encargado1" placeholder="obligatorio" class="input-field"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="referencia">Referencia</label>
                                <input type="text" id="referencia" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="importador">Importador</label>
                                <input type="text" id="importador" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="nit1">NIT</label>
                                <input type="text" id="nit1" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="registroIVA1">Registro IVA</label>
                                <input type="text" id="registroIVA1" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="facturarA">Facturar a:</label>
                                <input type="text" id="facturarA" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="encargado2">Encargado</label>
                                <input type="text" id="encargado2" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="nit2">NIT</label>
                                <input type="text" id="nit2" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="registroIVA2">Registro IVA</label>
                                <input type="text" id="registroIVA2" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <button type="submit" class="buttons-form" id="submitEncabezado">Guardar y
                                    Siguiente</button>
                            </div>
                            <label for="text" id="idOrden" class="idOrden"></label>
                        </div>
                    </div>
                </div>

                <!-- Información del embarque -->
                <div class="accordion" data-step="2">
                    <div class="accordion-header">Información del embarque</div>
                    <div class="accordion-body">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="facturas">Facturas</label>
                                <input type="text" id="facturas" placeholder="Facturas" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="proveedor">Proveedor Ref.</label>
                                <input type="text" id="proveedor" placeholder="Proveedor Ref." class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="bultos">Bultos</label>
                                <input type="number" id="bultos" placeholder="Bultos" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="tipo">Tipo</label>
                                <input type="text" id="tipo" placeholder="Tipo" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="kilos">Kilos</label>
                                <input type="number" id="kilos" placeholder="Kilos" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="volumen">Volumen</label>
                                <input type="number" id="volumen" placeholder="Volumen" class="input-field">
                            </div>
                            <div class="form-group">
                                <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Aduana -->
                <div class="accordion" data-step="3">
                    <div class="accordion-header">Aduana</div>
                    <div class="accordion-body">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="tipoServicio">Tipo de servicio</label>
                                <select id="tipoServicio" class="input-field">
                                    <option value="">Seleccione</option>
                                    <option value="exportacion">Exportación</option>
                                    <option value="importacion">Importación</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="primeraModalidad">Primera modalidad</label>
                                <input type="text" id="primeraModalidad" placeholder="Primera modalidad"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="segundaModalidad">Segunda modalidad</label>
                                <input type="text" id="segundaModalidad" placeholder="Segunda modalidad"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="declaracion">Declaración de Mercancías</label>
                                <input type="text" id="declaracion" placeholder="Declaración de mercancía"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="digitador">Digitador</label>
                                <input type="text" id="digitador" placeholder="Digitador" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="tramitador">Tramitador</label>
                                <input type="text" id="tramitador" placeholder="Tramitador" class="input-field">
                            </div>
                            <div class="form-group">
                                <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recolección -->
                <div class="accordion" data-step="4">
                    <div class="accordion-header">Recolección</div>
                    <div class="accordion-body">
                        <div class="form-container">
                            <div class="form-group full-width">
                                <label>Recolección</label>
                                <label class="checkbox-label"><input type="checkbox" id="transporte"> Transporte</label>
                                <label class="checkbox-label"><input type="checkbox" id="recoleccionEntrega">
                                    Recolección entrega</label>
                            </div>
                            <div class="form-group">
                                <label for="documento">Número Documento</label>
                                <input type="text" id="documento" placeholder="Número de documento" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="lugarOrigen">Lugar de origen</label>
                                <input type="text" id="lugarOrigen" placeholder="Lugar de origen" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="paisOrigen">País de origen</label>
                                <input type="text" id="paisOrigen" placeholder="País de origen" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="lugarDestino">Lugar de destino</label>
                                <input type="text" id="lugarDestino" placeholder="Lugar de destino" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="paisDestino">País de destino</label>
                                <input type="text" id="paisDestino" placeholder="País de destino" class="input-field">
                            </div>
                            <div class="form-group">
                                <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Permisos -->
                <div class="accordion" data-step="5">
                    <div class="accordion-header">Permisos</div>
                    <div class="accordion-body">
                        <div class="permisos-extra-box">
                            <label>Permisos</label>
                            <div class="permisos-checkboxes" id="permisos-checkboxes-container">
                                <label><input type="checkbox" data-name="JVQ"> JVQ</label>
                                <label><input type="checkbox" data-name="CSSP"> CSSP</label>
                                <label><input type="checkbox" data-name="Salud"> Salud</label>
                                <label><input type="checkbox" data-name="MAG"> MAG</label>
                                <label><input type="checkbox" data-name="Defensa"> Defensa</label>
                                <label><input type="checkbox" data-name="Aduana"> Aduana</label>
                            </div>
                            <div class="permisos-especificar">
                                <label for="especificar-permisos">Especificar</label>
                                <input type="text" id="especificar-permisos" placeholder="Especificar otros servicios"
                                    class="input-fieldLargo">
                                <div class="buttons-group">
                                    <button type="button" class="btnAñadirPermiso" id="btnAñadirPermiso">+ Añadir nuevo
                                        permiso</button>
                                    <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modales -->
                <div id="modalPermisos" class="modalAgregar">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Agregar nuevo permiso</h3>
                            <span id="btnCerrarPermisos" class="btn-close">✕</span>
                        </div>
                        <form id="frmAgregarpermisos">
                            <input type="text" id="input-modal-permisos" placeholder="Nuevo permiso" required />
                            <button type="submit" class="contrast">Añadir</button>
                        </form>
                    </div>
                </div>

                <!-- Datos contables -->
                <div class="accordion" data-step="6">
                    <div class="accordion-header">Datos contables</div>
                    <div class="accordion-body">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="serAduanales">Serv. Aduanales</label>
                                <input type="number" id="serAduanales" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="transLocal">Transporte Local</label>
                                <input type="number" id="transLocal" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="transInterno">Transporte interno</label>
                                <input type="number" id="transInterno" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="permisosContables">Permisos</label>
                                <input type="number" id="permisosContables" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="pagAdicional">Pagina Adicional</label>
                                <input type="number" id="pagAdicional" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="emisionBL">Emisiòn de BL</label>
                                <input type="number" id="emisionBL" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="manejos">Manejos</label>
                                <input type="number" id="manejos" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="iva">IVA</label>
                                <input type="number" id="iva" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="retencionIVA">Retención de IVA</label>
                                <input type="number" id="retencionIVA" placeholder="Opcional" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="totalContable">Total</label>
                                <input type="number" id="totalContable" placeholder="Opcional" class="input-field">
                            </div>
                        </div>
                        <button type="button" id="btnAgregarDatosC" class="btnAñadirDContables">+ Añadir nuevos datos
                            contables</button>
                        <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                    </div>
                </div>

                <!-- Modal Datos Contables -->
                <div id="modalAgregarDatosC" class="modalAgregar">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Agregar nuevo dato contable</h3>
                            <span id="btnCerrarDatosC" class="btn-close">✕</span>
                        </div>
                        <form id="frmAgregarDatosC">
                            <input type="text" id="input-modal-contables" placeholder="Nuevo dato contable" required />
                            <button type="submit" class="contrast">Añadir</button>
                        </form>

                    </div>
                </div>

                <!-- Financiamientos -->
                <div class="accordion" data-step="7">
                    <div class="accordion-header">Financiamientos</div>
                    <div class="accordion-body">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="impuestos">Impuestos</label>
                                <input type="number" id="impuestos" placeholder="Impuestos" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="complemento">Complemento</label>
                                <input type="number" id="complemento" placeholder="Complemento" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="almacenajes">Almacenajes</label>
                                <input type="number" id="almacenajes" placeholder="Almacenajes" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="transporteFinanciamiento">Transporte</label>
                                <input type="number" id="transporteFinanciamiento" placeholder="Transporte"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="impresiones">Impresiones</label>
                                <input type="number" id="impresiones" placeholder="Impresiones" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="cuadrilla">Cuadrilla</label>
                                <input type="number" id="cuadrilla" placeholder="Cuadrilla" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="permisosFinanciamiento">Permisos</label>
                                <input type="number" id="permisosFinanciamiento" placeholder="Permisos"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="multas">Multas</label>
                                <input type="number" id="multas" placeholder="multas" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="oirsa">OIRSA</label>
                                <input type="number" id="oirsa" placeholder="OIRSA" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="parqueo">Parqueo</label>
                                <input type="number" id="parqueo" placeholder="Parqueo" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="flete">Flete</label>
                                <input type="number" id="flete" placeholder="Flete" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="manejo">Manejo</label>
                                <input type="number" id="manejo" placeholder="Manejo" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="copiasScanner">Copias/Scanner</label>
                                <input type="number" id="copiasScanner" placeholder="Copias/Scanner"
                                    class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="seguridad">Seguridad</label>
                                <input type="number" id="seguridad" placeholder="Seguridad" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="previaMAG">Previa Mag</label>
                                <input type="number" id="previaMAG" placeholder="Previa MAG" class="input-field">
                            </div>
                            <div class="form-group">
                                <label for="totalFinanciamiento">Total</label>
                                <input type="number" id="totalFinanciamiento" placeholder="Total" class="input-field">
                            </div>
                        </div>
                        <button type="button" id="btnAgregarFinanciamientos" class="btnAñadirFinanciamiento">+ Añadir
                            nuevos financiamientos</button>
                        <div class="form-group">
                            <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                        </div>
                    </div>
                </div>

                <div id="modalAgregarFinanciamientos" class="modalAgregar">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Agregar nuevo financiamiento</h3>
                            <span id="btnCerrarFinanciamientos" class="btn-close">✕</span>
                        </div>
                        <form id="frmAgregarFinanciamientos">
                            <input type="text" id="input-modal-financiamientos" placeholder="Nuevo financiamiento"
                                required />
                            <button type="submit" class="contrast">Añadir</button>
                        </form>
                    </div>
                </div>


                <div class="accordion" data-step="8">
                    <div class="accordion-header">Observaciones</div>
                    <div class="accordion-body">
                        <select id="Observaciones" class="input-field">
                            <h3>Estado</h3>
                            <input type="hidden" id="idObservacion" name="idObservacion" value="idObservacion">
                            <select id="estado" name="estado" class="input-field" required>
                                <option value="">Seleccione</option>
                                <option value="1">Verde</option>
                                <option value="2">Amarillo</option>
                                <option value="3">Rojo</option>
                            </select>

                            <div class="form-group full-width">
                                <label for="observaciones">Observaciones</label>
                                <input type="text" id="observaciones" name="observaciones"
                                    placeholder="Observaciones del pedido" class="input-field" required>
                            </div>

                            <div class="form-group">
                                <button type="submit" class="buttons-form">Guardar y Siguiente</button>
                            </div>

                        </select>
                        <div class="form-group">
                            <button type="submit" class="buttons-form" id="guardarTransporte">Guardar y
                                Siguiente</button>
                        </div>
                    </div>
                </div>


                <div class="accordion" data-step="9">
                    <div class="accordion-header">Asignación de transporte</div>
                    <div class="accordion-body">
                        <select id="transportista" class="input-field">

                        </select>
                        <div class="form-group">
                            <button type="submit" class="buttons-form" id="guardarTransporte">Guardar y
                                Siguiente</button>
                        </div>
                    </div>
                </div>
                </div>





                <div class="button-container">
                    <button type="submit" id="submit-button" class="btn-submit">Guardar Pedido</button>
                    <button type="button" id="cancel-button" class="btn-cancel hidden">Cancelar Edición</button>
                </div>
            </form>
        </section>
    </main>

</body>
<script src="js/FuncionamientoHeader/ServiceOrder.js"></script>
<script type="module" src="js/Controllers/EncabezadoController.js"></script>
<script type="module" src="js/Controllers/InfoEmbarqueController.js"></script>
<script type="module" src="js/Controllers/AduanaController.js"></script>

</html>